/* XPECT_SETUP uk.ac.kcl.inf.trader.tests.varAndScope.VarAndScopeTest END_SETUP */



var usr = "personA"
var pwd = "passwordA"
var mny = 500.50
var lvr = 0.02
var tf = "1HR"

// XPECT scope at lvr --> !loopCounter, tf, mny, lvr, pwd, usr, !allocatedFund, !secondFund, ...
// XPECT scope at usr --> !loopCounter, tf, mny, lvr, pwd, usr, !allocatedFund, !secondFund, ...
connect to broker SwissBank with username: usr , password: pwd , leverage: lvr , money: mny , timeframe: tf

create bot with buyAndHold strategy using 60.15 funds

// XPECT scope at mny --> !loopCounter, tf, mny, lvr, pwd, usr, !allocatedFund, !secondFund, ...
create bot with meanReversion strategy using mny funds

var loopCounter = 3
// XPECT scope at loopCounter --> loopCounter, tf, mny, lvr, pwd, usr, !allocatedFund, !secondFund, ...
loop loopCounter times do 
	var allocatedFund = 100.10
	// XPECT scope at allocatedFund --> loopCounter, tf, mny, lvr, pwd, usr, allocatedFund, !secondFund, ...
	create bot with buyAndHold strategy using allocatedFund funds
	loop 1 times do
		// XPECT scope at allocatedFund --> loopCounter, tf, mny, lvr, pwd, usr, allocatedFund, !secondFund, ...
		create bot with buyAndHold strategy using allocatedFund funds
	end	
end

var secondFund = 5.2
// XPECT scope at secondFund --> loopCounter, tf, mny, lvr, pwd, usr, !allocatedFund, secondFund, ...
create bot with buyAndHold strategy using (secondFund + secondFund) funds

see registered bots

execute bots

stop bots